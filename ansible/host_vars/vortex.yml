# host_vars/vortex.yml
# Vortex = GPU Linux VM with full dotfiles, CLI stack, uv, Docker+IPv6, CUDA Docker

helix_user: "suhail"
helix_user_home: "/home/suhail"

# Bindu: full repo, not selective file mode
bindu_mode: full

# Use full Bindu and not the linux_standard selective profile
use_selective_configs: false

# uv: projects you actually want envs for on vortex
uv_projects_linux:
  - usdUtils
  - oauthManager
  - pythonKitchen
  - ocioTools
  - helperScripts
  - Incept
  - Lumiera
  - Ledu
  - hdrUtils

# Turn on pixi
pixi_enabled: true

# Docker base daemon.json (Role 1: docker_engine)
docker_enabled: true
docker_user: suhail

docker_ipv6_enabled: true
docker_bip: "10.29.22.1/24"
docker_fixed_cidr_v6: "2603:8001:a000:140::/64"
docker_ip6tables: true

docker_default_address_pools:
  - { base: "10.74.0.0/16",           size: 24 }
  - { base: "2603:8001:a000:140::/60", size: 64 }

# Optional (Role 3: docker_nvidia_runtime)
docker_max_concurrent_uploads: 1

# leave this unset or false unless you want default-runtime=nvidia
docker_nvidia_set_default_runtime: false

# GPU
nvidia_gpu_host: true


# nvidia_driver_package_pin: "nvidia-driver-580-open"
nvidia_driver_package_pin: ""

# Optional:
nvidia_add_graphics_drivers_ppa: false
nvidia_blacklist_nouveau: true
nvidia_purge_existing: false

# Shell: keep bash as default, but opt in to bash+apogee+starship
linux_bash_apogee_enabled: true

# Neovim setup for vortex
nvim_use_upstream: true
nvim_install_via_ppa: false
apogee_enabled: true


