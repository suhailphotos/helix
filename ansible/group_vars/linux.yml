# group_vars/linux.yml

# Orbit OFF globally on Linux, opt-in only
orbit_enabled: false

# Bindu & matrix roots (already fine)
helix_repo_raw_base: "https://raw.githubusercontent.com/suhailphotos/helix/refs/heads/main"
helix_dotfiles_raw_base: "{{ helix_repo_raw_base }}/dotfiles"

matrix_root: "{{ helix_user_home + '/Dropbox/matrix' }}"
matrix_packages_dir: "{{ matrix_root }}/packages"

# -----------------------------
# Python / uv defaults
# -----------------------------
houdini_python_patch: "3.11.7"
nvim_src_rel: "nvim/.config/nvim"

poetry_projects_linux: []

# Turn uv on by default for Linux
uv_enabled: true          # <— NEW / flipped from implicit-off
uv_projects_linux: []     # hosts opt in with a list in host_vars

# -----------------------------
# Shell / tool toggles
# -----------------------------
zoxide_allow_install_script: false

# Pixi: OFF by default on hosts, we’ll only use it in dev containers
pixi_enabled: false       # <— CHANGED from true

# Use upstream Neovim tarball (GitHub releases) on all Linux nodes
nvim_use_upstream: true

# -----------------------------
# Apt baseline (“Linux standard” CLI stack)
# -----------------------------
apt_packages:
  - stow
  - nodejs
  - unzip
  - git
  - gh
  - curl
  - locales
  - tree
  - eza
  - gawk
  - bat
  - zoxide
  - wl-clipboard
  - xsel
  - file
  - fd-find
  - ripgrep
  - fzf
  - jq
  - ffmpeg
  - poppler-utils
  - p7zip-full
  - imagemagick
  - xclip
  # Build essentials
  - build-essential
  - tree-sitter-cli
  - cmake
  - ninja-build
  - python3
  - python3-venv
  - python3-pip
  - python3-setuptools
  - python3-wheel
  - ca-certificates
  - pkg-config
  - autoconf
  - automake
  - libtool
  - nodejs
  - npm
  - meson

yazi_install_scope: system

cargo_crates_linux:
  - { name: cargo-nextest, bin: cargo-nextest }
  - { name: bacon,         bin: bacon }

atrium_stow_packages:
  - incept
  - notionmanager
  - oauthmanager
  - parivaha
atrium_use_adopt: true


# choose the system-wide default (C.UTF-8 is present on Ubuntu/Debian by default)
default_locale: "C.UTF-8"

# if you prefer en_US.UTF-8, also generate it (harmless to leave as-is)
generate_locales:
  - "en_US.UTF-8 UTF-8"

bindu_raw_base: "https://raw.githubusercontent.com/suhailphotos/bindu/refs/heads/main"

bindu_selective_files:
  - { src: "bat/config",              dest: "~/.config/bat/config" }
  - { src: "eza/theme.yml",           dest: "~/.config/eza/theme.yml" }
  - { src: "gh/config.yml",           dest: "~/.config/gh/config.yml" }
  - { src: "gh/hosts.yml",            dest: "~/.config/gh/hosts.yml" }   # keep only if sanitized
  - { src: "git/config",              dest: "~/.config/git/config" }
  - { src: "git/ignore",              dest: "~/.config/git/ignore" }
  - { src: "htop/htoprc",             dest: "~/.config/htop/htoprc" }
  - { src: "pip/pip.conf",            dest: "~/.config/pip/pip.conf" }

  # Choose per-host file via `starship_profile`
  - { src: "starship/{{ starship_profile | default('starship_rpi.toml') }}",
      dest: "~/.config/starship/starship.toml" }

  - { src: "tmux/tmux.conf",          dest: "~/.config/tmux/tmux.conf" }


# Where to pull NVIM files from (your raw GitHub)
nvim_raw_base: "{{ bindu_raw_base }}/nvim"

# EXACT files to copy (no yazi)
nvim_selective_files:
  # plugin specs
  - { src: "lua/suhail/lazy/telescope.lua",   dest: "~/.config/nvim/lua/suhail/lazy/telescope.lua" }
  - { src: "lua/suhail/lazy/treesitter.lua",  dest: "~/.config/nvim/lua/suhail/lazy/treesitter.lua" }
  - { src: "lua/suhail/lazy/devicons.lua",    dest: "~/.config/nvim/lua/suhail/lazy/devicons.lua" }
  - { src: "lua/suhail/lazy/undotree.lua",    dest: "~/.config/nvim/lua/suhail/lazy/undotree.lua" }
  - { src: "lua/suhail/lazy/fugitive.lua",    dest: "~/.config/nvim/lua/suhail/lazy/fugitive.lua" }
  - { src: "lua/suhail/lazy/tmux_nav.lua",    dest: "~/.config/nvim/lua/suhail/lazy/tmux_nav.lua" }
  - { src: "lua/suhail/lazy/clipboard.lua",   dest: "~/.config/nvim/lua/suhail/lazy/clipboard.lua" }
  - { src: "lua/suhail/lazy/iris.lua",        dest: "~/.config/nvim/lua/suhail/lazy/iris.lua" }

  # bootstrap + helpers those specs rely on
  - { src: "lua/suhail/lazy_init.lua",             dest: "~/.config/nvim/lua/suhail/lazy_init.lua" }
  - { src: "lua/suhail/ui/telescope_nvchad.lua",   dest: "~/.config/nvim/lua/suhail/ui/telescope_nvchad.lua" }

  # core keymaps/options
  - { src: "lua/suhail/remap.lua",  dest: "~/.config/nvim/lua/suhail/remap.lua" }
  - { src: "lua/suhail/set.lua",    dest: "~/.config/nvim/lua/suhail/set.lua" }

  # theme picker keys
  - { src: "lua/suhail/keys/theme.lua", dest: "~/.config/nvim/lua/suhail/keys/theme.lua" }

# What the templated plugin list should include (edit later if you want more)
nvim_lazy_modules:
  - "suhail.lazy.iris"
  - "suhail.lazy.devicons"
  - "suhail.lazy.telescope"
  - "suhail.lazy.treesitter"
  - "suhail.lazy.tmux_nav"
  - "suhail.lazy.clipboard"
  - "suhail.lazy.undotree"
  - "suhail.lazy.fugitive"

  # --- Dropbox daemon defaults (Linux) ---

# Off by default; enable per-host in host_vars.
dropbox_enabled: false

# Which user should own and run Dropbox
dropbox_user: "{{ ansible_user | default('root') }}"

# Home for that user (anchor uses root → /root)
dropbox_home: "{{ (dropbox_user == 'root') | ternary('/root', '/home/' + dropbox_user) }}"

# Optional exclude list – usually overridden per host
dropbox_excludes: []
